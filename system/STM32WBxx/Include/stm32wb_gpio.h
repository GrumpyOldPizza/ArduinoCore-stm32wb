/*
 * Copyright (c) 2019-2020 Thomas Roell.  All rights reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal with the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 *  1. Redistributions of source code must retain the above copyright notice,
 *     this list of conditions and the following disclaimers.
 *  2. Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimers in the
 *     documentation and/or other materials provided with the distribution.
 *  3. Neither the name of Thomas Roell, nor the names of its contributors
 *     may be used to endorse or promote products derived from this Software
 *     without specific prior written permission.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * CONTRIBUTORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * WITH THE SOFTWARE.
 */

#if !defined(_STM32WB_GPIO_H)
#define _STM32WB_GPIO_H

#include "armv7m.h"

#ifdef __cplusplus
 extern "C" {
#endif

#define STM32WB_GPIO_MODE_MASK			0x0003
#define STM32WB_GPIO_MODE_SHIFT			0
#define STM32WB_GPIO_MODE_INPUT			0x0000
#define STM32WB_GPIO_MODE_OUTPUT		0x0001
#define STM32WB_GPIO_MODE_ALTERNATE		0x0002
#define STM32WB_GPIO_MODE_ANALOG		0x0003
#define STM32WB_GPIO_OTYPE_MASK			0x0004
#define STM32WB_GPIO_OTYPE_SHIFT		2
#define STM32WB_GPIO_OTYPE_PUSHPULL		0x0000
#define STM32WB_GPIO_OTYPE_OPENDRAIN		0x0004
#define STM32WB_GPIO_OSPEED_MASK		0x0018
#define STM32WB_GPIO_OSPEED_SHIFT		3
#define STM32WB_GPIO_OSPEED_LOW			0x0000
#define STM32WB_GPIO_OSPEED_MEDIUM		0x0008
#define STM32WB_GPIO_OSPEED_HIGH		0x0010
#define STM32WB_GPIO_OSPEED_VERY_HIGH		0x0018
#define STM32WB_GPIO_PUPD_MASK			0x0060
#define STM32WB_GPIO_PUPD_SHIFT			5
#define STM32WB_GPIO_PUPD_NONE			0x0000
#define STM32WB_GPIO_PUPD_PULLUP		0x0020
#define STM32WB_GPIO_PUPD_PULLDOWN		0x0040
#define STM32WB_GPIO_PARK_SHIFT                 8
#define STM32WB_GPIO_PARK_MASK                  0x0300
#define STM32WB_GPIO_PARK_NONE                  0x0000
#define STM32WB_GPIO_PARK_PULLUP                0x0100
#define STM32WB_GPIO_PARK_PULLDOWN              0x0200
#define STM32WB_GPIO_PARK_HIZ                   0x0300

#if defined(STM32WB55xx)

#define STM32WB_GPIO_PIN_PA0			0x00
#define STM32WB_GPIO_PIN_PA1			0x01
#define STM32WB_GPIO_PIN_PA2			0x02
#define STM32WB_GPIO_PIN_PA3			0x03
#define STM32WB_GPIO_PIN_PA4			0x04
#define STM32WB_GPIO_PIN_PA5			0x05
#define STM32WB_GPIO_PIN_PA6			0x06
#define STM32WB_GPIO_PIN_PA7			0x07
#define STM32WB_GPIO_PIN_PA8			0x08
#define STM32WB_GPIO_PIN_PA9			0x09
#define STM32WB_GPIO_PIN_PA10			0x0a
#define STM32WB_GPIO_PIN_PA11			0x0b
#define STM32WB_GPIO_PIN_PA12			0x0c
#define STM32WB_GPIO_PIN_PA13			0x0d
#define STM32WB_GPIO_PIN_PA14			0x0e
#define STM32WB_GPIO_PIN_PA15			0x0f
#define STM32WB_GPIO_PIN_PB0			0x10
#define STM32WB_GPIO_PIN_PB1			0x11
#define STM32WB_GPIO_PIN_PB2			0x12
#define STM32WB_GPIO_PIN_PB3			0x13
#define STM32WB_GPIO_PIN_PB4			0x14
#define STM32WB_GPIO_PIN_PB5			0x15
#define STM32WB_GPIO_PIN_PB6			0x16
#define STM32WB_GPIO_PIN_PB7			0x17
#define STM32WB_GPIO_PIN_PB8			0x18
#define STM32WB_GPIO_PIN_PB9			0x19
#define STM32WB_GPIO_PIN_PB10			0x1a
#define STM32WB_GPIO_PIN_PB11			0x1b
#define STM32WB_GPIO_PIN_PB12			0x1c
#define STM32WB_GPIO_PIN_PB13			0x1d
#define STM32WB_GPIO_PIN_PB14			0x1e
#define STM32WB_GPIO_PIN_PB15			0x1f
#define STM32WB_GPIO_PIN_PC0			0x20
#define STM32WB_GPIO_PIN_PC1			0x21
#define STM32WB_GPIO_PIN_PC2			0x22
#define STM32WB_GPIO_PIN_PC3			0x23
#define STM32WB_GPIO_PIN_PC4			0x24
#define STM32WB_GPIO_PIN_PC5			0x25
#define STM32WB_GPIO_PIN_PC6			0x26
#define STM32WB_GPIO_PIN_PC7			0x27
#define STM32WB_GPIO_PIN_PC8			0x28
#define STM32WB_GPIO_PIN_PC9			0x29
#define STM32WB_GPIO_PIN_PC10			0x2a
#define STM32WB_GPIO_PIN_PC11			0x2b
#define STM32WB_GPIO_PIN_PC12			0x2c
#define STM32WB_GPIO_PIN_PC13			0x2d
#define STM32WB_GPIO_PIN_PC14			0x2e
#define STM32WB_GPIO_PIN_PC15			0x2f
#define STM32WB_GPIO_PIN_PD0			0x30
#define STM32WB_GPIO_PIN_PD1			0x31
#define STM32WB_GPIO_PIN_PD2			0x32
#define STM32WB_GPIO_PIN_PD3			0x33
#define STM32WB_GPIO_PIN_PD4			0x34
#define STM32WB_GPIO_PIN_PD5			0x35
#define STM32WB_GPIO_PIN_PD6			0x36
#define STM32WB_GPIO_PIN_PD7			0x37
#define STM32WB_GPIO_PIN_PD8			0x38
#define STM32WB_GPIO_PIN_PD9			0x39
#define STM32WB_GPIO_PIN_PD10			0x3a
#define STM32WB_GPIO_PIN_PD11			0x3b
#define STM32WB_GPIO_PIN_PD12			0x3c
#define STM32WB_GPIO_PIN_PD13			0x3d
#define STM32WB_GPIO_PIN_PD14			0x3e
#define STM32WB_GPIO_PIN_PD15			0x3f
#define STM32WB_GPIO_PIN_PE0			0x40
#define STM32WB_GPIO_PIN_PE1			0x41
#define STM32WB_GPIO_PIN_PE2			0x42
#define STM32WB_GPIO_PIN_PE3			0x43
#define STM32WB_GPIO_PIN_PE4			0x44
#define STM32WB_GPIO_PIN_PH0			0x70
#define STM32WB_GPIO_PIN_PH1			0x71
#define STM32WB_GPIO_PIN_PH3			0x73
#define STM32WB_GPIO_PIN_NONE			0xff

#endif /* STM32WB55xx */
   
#define STM32WB_GPIO_PIN_INDEX_MASK		0x000f
#define STM32WB_GPIO_PIN_INDEX_SHIFT		0
#define STM32WB_GPIO_PIN_GROUP_MASK		0x00f0
#define STM32WB_GPIO_PIN_GROUP_SHIFT		4
#define STM32WB_GPIO_PIN_AFSEL_MASK		0x0f00
#define STM32WB_GPIO_PIN_AFSEL_SHIFT		8

#define STM32WB_GPIO_PIN_IO_MASK		0x00ff
#define STM32WB_GPIO_PIN_IO_SHIFT		0

#if defined(STM32WB55xx)

#define STM32WB_GPIO_PIN_PA2_LSCO		0x0002
#define STM32WB_GPIO_PIN_PA8_MCO		0x0008
#define STM32WB_GPIO_PIN_PA13_SWDIO		0x000d
#define STM32WB_GPIO_PIN_PA14_SWCLK		0x000e
#define STM32WB_GPIO_PIN_PA15_MCO		0x060f
#define STM32WB_GPIO_PIN_PB0_EXT_PA_TX		0x0610
#define STM32WB_GPIO_PIN_PB2_RTCOUT		0x0012
#define STM32WB_GPIO_PIN_PB3_SWO		0x0013
#define STM32WB_GPIO_PIN_PB15_RTC_REFIN		0x001f
#define STM32WB_GPIO_PIN_PC12_LSCO		0x062c
#define STM32WB_GPIO_PIN_PH3_LSCO		0x0073

#define STM32WB_GPIO_PIN_PA8_USART1_CK		0x0708
#define STM32WB_GPIO_PIN_PA9_USART1_TX		0x0709
#define STM32WB_GPIO_PIN_PA10_USART1_RX		0x070a
#define STM32WB_GPIO_PIN_PA11_USART1_CTS	0x070b
#define STM32WB_GPIO_PIN_PA12_USART1_RTS	0x070c
#define STM32WB_GPIO_PIN_PB3_USART1_RTS_DE	0x0713
#define STM32WB_GPIO_PIN_PB4_USART1_CTS		0x0714
#define STM32WB_GPIO_PIN_PB5_USART1_CK		0x0715
#define STM32WB_GPIO_PIN_PB6_USART1_TX		0x0716
#define STM32WB_GPIO_PIN_PB7_USART1_RX		0x0717

#define STM32WB_GPIO_PIN_PA2_LPUART1_TX		0x0802
#define STM32WB_GPIO_PIN_PA3_LPUART1_RX		0x0803
#define STM32WB_GPIO_PIN_PA6_LPUART1_CTS	0x0806
#define STM32WB_GPIO_PIN_PA12_LPUART1_RX	0x080c
#define STM32WB_GPIO_PIN_PB1_LPUART1_RTS_DE	0x0811
#define STM32WB_GPIO_PIN_PB5_LPUART1_TX		0x0815
#define STM32WB_GPIO_PIN_PB10_LPUART1_RX	0x081a
#define STM32WB_GPIO_PIN_PB11_LPUART1_TX	0x081b
#define STM32WB_GPIO_PIN_PB12_LPUART1_RTS_DE	0x081c
#define STM32WB_GPIO_PIN_PB13_LPUART1_CTS	0x081d
#define STM32WB_GPIO_PIN_PC0_LPUART1_RX		0x0820
#define STM32WB_GPIO_PIN_PC1_LPUART1_TX		0x0821

#define STM32WB_GPIO_PIN_PA1_I2C1_SMBA		0x0401
#define STM32WB_GPIO_PIN_PA9_I2C1_SCL		0x0409
#define STM32WB_GPIO_PIN_PA10_I2C1_SDA		0x040a
#define STM32WB_GPIO_PIN_PA14_I2C1_SMBA		0x040e
#define STM32WB_GPIO_PIN_PB5_I2C1_SMBA		0x0415
#define STM32WB_GPIO_PIN_PB6_I2C1_SCL		0x0416
#define STM32WB_GPIO_PIN_PB7_I2C1_SDA		0x0417
#define STM32WB_GPIO_PIN_PB8_I2C1_SCL		0x0418
#define STM32WB_GPIO_PIN_PB9_I2C1_SDA		0x0419

#define STM32WB_GPIO_PIN_PA7_I2C3_SCL		0x0407
#define STM32WB_GPIO_PIN_PB2_I2C3_SMBA		0x0412
#define STM32WB_GPIO_PIN_PB4_I2C3_SDA		0x0414
#define STM32WB_GPIO_PIN_PB10_I2C3_SCL		0x041a
#define STM32WB_GPIO_PIN_PB11_I2C3_SDA		0x041b
#define STM32WB_GPIO_PIN_PB12_I2C3_SMBA		0x041c
#define STM32WB_GPIO_PIN_PB13_I2C3_SCL		0x041d
#define STM32WB_GPIO_PIN_PB14_I2C3_SDA		0x041e
#define STM32WB_GPIO_PIN_PC0_I2C3_SCL		0x0420
#define STM32WB_GPIO_PIN_PC1_I2C3_SDA		0x0421

#define STM32WB_GPIO_PIN_PA1_SPI1_SCK		0x0501
#define STM32WB_GPIO_PIN_PA4_SPI1_NSS		0x0504
#define STM32WB_GPIO_PIN_PA5_SPI1_SCK		0x0505
#define STM32WB_GPIO_PIN_PA6_SPI1_MISO		0x0506
#define STM32WB_GPIO_PIN_PA7_SPI1_MOSI		0x0507
#define STM32WB_GPIO_PIN_PA11_SPI1_MISO		0x050b
#define STM32WB_GPIO_PIN_PA12_SPI1_MOSI		0x050c
#define STM32WB_GPIO_PIN_PA15_SPI1_NSS		0x050f
#define STM32WB_GPIO_PIN_PB2_SPI1_NSS		0x0512
#define STM32WB_GPIO_PIN_PB3_SPI1_SCK		0x0513
#define STM32WB_GPIO_PIN_PB4_SPI1_MISO		0x0514
#define STM32WB_GPIO_PIN_PB5_SPI1_MOSI		0x0515

#define STM32WB_GPIO_PIN_PA9_SPI2_SCK		0x0509
#define STM32WB_GPIO_PIN_PB9_SPI2_NSS		0x0519
#define STM32WB_GPIO_PIN_PB10_SPI2_SCK		0x051a
#define STM32WB_GPIO_PIN_PB12_SPI2_NSS		0x051c
#define STM32WB_GPIO_PIN_PB13_SPI2_SCK		0x051d
#define STM32WB_GPIO_PIN_PB14_SPI2_MISO		0x051e
#define STM32WB_GPIO_PIN_PB15_SPI2_MOSI		0x051f
#define STM32WB_GPIO_PIN_PC1_SPI2_MOSI		0x0321
#define STM32WB_GPIO_PIN_PC2_SPI2_MISO		0x0522
#define STM32WB_GPIO_PIN_PC3_SPI2_MOSI		0x0523
#define STM32WB_GPIO_PIN_PD0_SPI2_NSS		0x0530
#define STM32WB_GPIO_PIN_PD1_SPI2_SCK		0x0531
#define STM32WB_GPIO_PIN_PD3_SPI2_SCK		0x0333
#define STM32WB_GPIO_PIN_PD3_SPI2_MISO		0x0533
#define STM32WB_GPIO_PIN_PD4_SPI2_MOSI		0x0534

#define STM32WB_GPIO_PIN_PA2_QUADSPI_NCS	0x0a02
#define STM32WB_GPIO_PIN_PA3_QUADSPI_CLK	0x0a03
#define STM32WB_GPIO_PIN_PA6_QUADSPI_IO3	0x0a06
#define STM32WB_GPIO_PIN_PA7_QUADSPI_IO2	0x0a07
#define STM32WB_GPIO_PIN_PB8_QUADSPI_IO1	0x0a18
#define STM32WB_GPIO_PIN_PB9_QUADSPI_IO0	0x0a19
#define STM32WB_GPIO_PIN_PB10_QUADSPI_CLK	0x0a1a
#define STM32WB_GPIO_PIN_PB11_QUADSPI_NCS	0x0a1b
#define STM32WB_GPIO_PIN_PD3_QUADSPI_NCS	0x0a33
#define STM32WB_GPIO_PIN_PD4_QUADSPI_IO0	0x0a34
#define STM32WB_GPIO_PIN_PD5_QUADSPI_IO1	0x0a35
#define STM32WB_GPIO_PIN_PD6_QUADSPI_IO2	0x0a36
#define STM32WB_GPIO_PIN_PD7_QUADSPI_IO3	0x0a37

#define STM32WB_GPIO_PIN_PA3_SAI1_PDM_CK1	0x0303
#define STM32WB_GPIO_PIN_PA8_SAI1_PDM_CK2	0x0308
#define STM32WB_GPIO_PIN_PA9_SAI1_PDM_DI2	0x0309
#define STM32WB_GPIO_PIN_PA10_SAI1_PDM_DI1	0x030a
#define STM32WB_GPIO_PIN_PB8_SAI1_PDM_CK1	0x0318
#define STM32WB_GPIO_PIN_PB9_SAI1_PDM_DI2	0x0319
#define STM32WB_GPIO_PIN_PC3_SAI1_PDM_DI1	0x0323
#define STM32WB_GPIO_PIN_PC5_SAI1_PDM_DI3	0x0325
#define STM32WB_GPIO_PIN_PD6_SAI1_PDM_DI1	0x0336
#define STM32WB_GPIO_PIN_PE2_SAI1_PDM_CK1	0x0342

#define STM32WB_GPIO_PIN_PA0_SAI1_EXTCLK	0x0d00
#define STM32WB_GPIO_PIN_PA3_SAI1_MCLK_A	0x0d03
#define STM32WB_GPIO_PIN_PA4_SAI1_FS_B		0x0d04
#define STM32WB_GPIO_PIN_PA5_SAI1_SD_B		0x0d05
#define STM32WB_GPIO_PIN_PA8_SAI1_SCK_A		0x0d08
#define STM32WB_GPIO_PIN_PA9_SAI1_FS_A		0x0d09
#define STM32WB_GPIO_PIN_PA10_SAI1_SD_A		0x0d0a
#define STM32WB_GPIO_PIN_PA13_SAI1_SD_B		0x0d0d
#define STM32WB_GPIO_PIN_PA14_SAI1_FS_B		0x0d0e
#define STM32WB_GPIO_PIN_PB2_SAI1_EXTCLK	0x0d12
#define STM32WB_GPIO_PIN_PB3_SAI1_SCK_B		0x0d13
#define STM32WB_GPIO_PIN_PB4_SAI1_MCLK_B	0x0d14
#define STM32WB_GPIO_PIN_PB5_SAI1_SD_B		0x0d15
#define STM32WB_GPIO_PIN_PB6_SAI1_FS_B		0x0d16
#define STM32WB_GPIO_PIN_PB8_SAI1_MCLK_A	0x0d18
#define STM32WB_GPIO_PIN_PB9_SAI1_FS_A		0x0d19
#define STM32WB_GPIO_PIN_PB10_SAI1_SCK_A	0x0d1a
#define STM32WB_GPIO_PIN_PB12_SAI1_FS_A		0x0d1c
#define STM32WB_GPIO_PIN_PB13_SAI1_SCK_A	0x0d1d
#define STM32WB_GPIO_PIN_PB14_SAI1_MCLK_A	0x0d1e
#define STM32WB_GPIO_PIN_PC3_SAI1_SD_A		0x0d23
#define STM32WB_GPIO_PIN_PC9_SAI1_SCK_B		0x0d29
#define STM32WB_GPIO_PIN_PD5_SAI1_MCLK_B	0x0d35
#define STM32WB_GPIO_PIN_PD6_SAI1_SD_A		0x0d36
#define STM32WB_GPIO_PIN_PE2_SAI1_MCLK_A	0x0d42

#define STM32WB_GPIO_PIN_PA10_USB_CRS_SYNC	0x0a0a
#define STM32WB_GPIO_PIN_PA11_USB_DM		0x0a0b
#define STM32WB_GPIO_PIN_PA12_USB_DP		0x0a0c
#define STM32WB_GPIO_PIN_PA13_USB_NOE		0x0a0d
#define STM32WB_GPIO_PIN_PC9_USB_NOE		0x0a29

#define STM32WB_GPIO_PIN_PA13_IR_OUT		0x080d
#define STM32WB_GPIO_PIN_PB9_IR_OUT		0x0819

#define STM32WB_GPIO_PIN_PA6_TIM1_BKIN		0x0106
#define STM32WB_GPIO_PIN_PA7_TIM1_CH1N		0x0107
#define STM32WB_GPIO_PIN_PA8_TIM1_CH1		0x0108
#define STM32WB_GPIO_PIN_PA9_TIM1_CH2		0x0109
#define STM32WB_GPIO_PIN_PA10_TIM1_CH3		0x010a
#define STM32WB_GPIO_PIN_PA11_TIM1_CH4		0x010b
#define STM32WB_GPIO_PIN_PA11_TIM1_BKIN2	0x020b
#define STM32WB_GPIO_PIN_PA12_TIM1_ETR		0x010c
#define STM32WB_GPIO_PIN_PB7_TIM1_BKIN		0x0317
#define STM32WB_GPIO_PIN_PB8_TIM1_CH2N		0x0118
#define STM32WB_GPIO_PIN_PB9_TIM1_CH3N		0x0119
#define STM32WB_GPIO_PIN_PB12_TIM1_BKIN		0x011c
#define STM32WB_GPIO_PIN_PB13_TIM1_CH1N		0x011d
#define STM32WB_GPIO_PIN_PB14_TIM1_CH2N		0x011e
#define STM32WB_GPIO_PIN_PB15_TIM1_CH3N		0x011f
#define STM32WB_GPIO_PIN_PC9_TIM1_BKIN		0x0329
#define STM32WB_GPIO_PIN_PD8_TIM1_BKIN2		0x0238
#define STM32WB_GPIO_PIN_PD14_TIM1_CH1		0x013e
#define STM32WB_GPIO_PIN_PD15_TIM1_CH2		0x013f
#define STM32WB_GPIO_PIN_PE0_TIM1_ETR		0x0140

#define STM32WB_GPIO_PIN_PA0_TIM2_CH1		0x0100
#define STM32WB_GPIO_PIN_PA0_TIM2_ETR		0x0e00
#define STM32WB_GPIO_PIN_PA1_TIM2_CH2		0x0101
#define STM32WB_GPIO_PIN_PA2_TIM2_CH3		0x0102
#define STM32WB_GPIO_PIN_PA3_TIM2_CH4		0x0103
#define STM32WB_GPIO_PIN_PA5_TIM2_CH1		0x0105
#define STM32WB_GPIO_PIN_PA5_TIM2_ETR		0x0205
#define STM32WB_GPIO_PIN_PA15_TIM2_CH1		0x010f
#define STM32WB_GPIO_PIN_PA15_TIM2_ETR		0x020f
#define STM32WB_GPIO_PIN_PB3_TIM2_CH2		0x0113
#define STM32WB_GPIO_PIN_PB10_TIM2_CH3		0x011a
#define STM32WB_GPIO_PIN_PB11_TIM2_CH4		0x011b

#define STM32WB_GPIO_PIN_PA6_TIM16_CH1		0x0e06
#define STM32WB_GPIO_PIN_PB5_TIM16_BKIN		0x0e15
#define STM32WB_GPIO_PIN_PB8_TIM16_CH1		0x0e18
#define STM32WB_GPIO_PIN_PE0_TIM16_CH1		0x0e40

#define STM32WB_GPIO_PIN_PA7_TIM17_CH1		0x0e07
#define STM32WB_GPIO_PIN_PA10_TIM17_BKIN	0x0e0a
#define STM32WB_GPIO_PIN_PB4_TIM17_BKIN		0x0e14
#define STM32WB_GPIO_PIN_PB7_TIM17_CH1N		0x0e17
#define STM32WB_GPIO_PIN_PB9_TIM17_CH1		0x0e19
#define STM32WB_GPIO_PIN_PE1_TIM17_CH1		0x0e41

#define STM32WB_GPIO_PIN_PA14_LPTIM1_OUT	0x010e
#define STM32WB_GPIO_PIN_PB2_LPTIM1_OUT		0x0112
#define STM32WB_GPIO_PIN_PB5_LPTIM1_IN1		0x0115
#define STM32WB_GPIO_PIN_PB6_LPTIM1_ETR		0x0116
#define STM32WB_GPIO_PIN_PB7_LPTIM1_IN2		0x0117
#define STM32WB_GPIO_PIN_PC0_LPTIM1_IN1		0x0120
#define STM32WB_GPIO_PIN_PC1_LPTIM1_OUT		0x0121
#define STM32WB_GPIO_PIN_PC2_LPTIM1_IN2		0x0122
#define STM32WB_GPIO_PIN_PC3_LPTIM1_ETR		0x0123

#define STM32WB_GPIO_PIN_PA4_LPTIM2_OUT		0x0e04
#define STM32WB_GPIO_PIN_PA5_LPTIM2_ETR		0x0e05
#define STM32WB_GPIO_PIN_PA8_LPTIM2_OUT		0x0e08
#define STM32WB_GPIO_PIN_PB1_LPTIM2_IN1		0x0e11
#define STM32WB_GPIO_PIN_PC0_LPTIM2_IN1		0x0e20
#define STM32WB_GPIO_PIN_PC3_LPTIM2_ETR		0x0e23
#define STM32WB_GPIO_PIN_PD11_LPTIM2_ETR	0x0e3b
#define STM32WB_GPIO_PIN_PD12_LPTIM2_IN1	0x0e3c
#define STM32WB_GPIO_PIN_PD13_LPTIM2_OUT	0x0e3d

#define STM32WB_GPIO_PIN_PA0_COMP1_OUT		0x0c00
#define STM32WB_GPIO_PIN_PB0_COMP1_OUT		0x0c10
#define STM32WB_GPIO_PIN_PB10_COMP1_OUT		0x0c1a

#define STM32WB_GPIO_PIN_PA2_COMP2_OUT		0x0c02
#define STM32WB_GPIO_PIN_PA7_COMP2_OUT		0x0c07
#define STM32WB_GPIO_PIN_PB5_COMP2_OUT		0x0c15
#define STM32WB_GPIO_PIN_PB11_COMP2_OUT		0x0c1b

#define STM32WB_GPIO_PIN_PB4_TSC_G2_IO1		0x0914
#define STM32WB_GPIO_PIN_PB5_TSC_G2_IO2		0x0915
#define STM32WB_GPIO_PIN_PB6_TSC_G2_IO3		0x0916
#define STM32WB_GPIO_PIN_PB7_TSC_G2_IO4		0x0917
#define STM32WB_GPIO_PIN_PB9_TSC_G7_IO4		0x0919
#define STM32WB_GPIO_PIN_PB10_TSC_SYNC		0x091a
#define STM32WB_GPIO_PIN_PB12_TSC_G1_IO1	0x091c
#define STM32WB_GPIO_PIN_PB13_TSC_G1_IO2	0x091d
#define STM32WB_GPIO_PIN_PB14_TSC_G1_IO3	0x091e
#define STM32WB_GPIO_PIN_PB15_TSC_G1_IO4	0x091f
#define STM32WB_GPIO_PIN_PC6_TSC_G4_IO1		0x0926
#define STM32WB_GPIO_PIN_PC7_TSC_G4_IO2		0x0927
#define STM32WB_GPIO_PIN_PC8_TSC_G4_IO3		0x0928
#define STM32WB_GPIO_PIN_PC9_TSC_G4_IO4		0x0929
#define STM32WB_GPIO_PIN_PC10_TSC_G3_IO2	0x092a
#define STM32WB_GPIO_PIN_PC11_TSC_G3_IO3	0x092b
#define STM32WB_GPIO_PIN_PC12_TSC_G3_IO4	0x092c
#define STM32WB_GPIO_PIN_PD2_TSC_SYNC		0x0932
#define STM32WB_GPIO_PIN_PD4_TSC_G5_IO1		0x0934
#define STM32WB_GPIO_PIN_PD5_TSC_G5_IO2		0x0935
#define STM32WB_GPIO_PIN_PD6_TSC_G5_IO3		0x0936
#define STM32WB_GPIO_PIN_PD7_TSC_G5_IO4		0x0937
#define STM32WB_GPIO_PIN_PD10_TSC_G6_IO1	0x093a
#define STM32WB_GPIO_PIN_PD11_TSC_G6_IO2	0x093b
#define STM32WB_GPIO_PIN_PD12_TSC_G6_IO3	0x093c
#define STM32WB_GPIO_PIN_PD13_TSC_G6_IO4	0x093d
#define STM32WB_GPIO_PIN_PE0_TSC_G7_IO3		0x0940
#define STM32WB_GPIO_PIN_PE1_TSC_G7_IO2		0x0941
#define STM32WB_GPIO_PIN_PE2_TSC_G7_IO1		0x0942

#define STM32WB_GPIO_PIN_PA1_LCD_SEG0		0x0b01
#define STM32WB_GPIO_PIN_PA2_LCD_SEG1		0x0b02
#define STM32WB_GPIO_PIN_PA3_LCD_SEG2		0x0b03
#define STM32WB_GPIO_PIN_PA4_LCD_SEG5		0x0b04
#define STM32WB_GPIO_PIN_PA6_LCD_SEG3		0x0b06
#define STM32WB_GPIO_PIN_PA7_LCD_SEG4		0x0b07
#define STM32WB_GPIO_PIN_PA8_LCD_COM0		0x0b08
#define STM32WB_GPIO_PIN_PA9_LCD_COM1		0x0b09
#define STM32WB_GPIO_PIN_PA10_LCD_COM2		0x0b0a
#define STM32WB_GPIO_PIN_PA14_LCD_SEG5		0x0b0e
#define STM32WB_GPIO_PIN_PA15_LCD_SEG17		0x0b0f
#define STM32WB_GPIO_PIN_PB2_LCD_VLCD		0x0b12
#define STM32WB_GPIO_PIN_PB3_LCD_SEG7		0x0b13
#define STM32WB_GPIO_PIN_PB4_LCD_SEG8		0x0b14
#define STM32WB_GPIO_PIN_PB5_LCD_SEG9		0x0b15
#define STM32WB_GPIO_PIN_PB6_LCD_SEG6		0x0b16
#define STM32WB_GPIO_PIN_PB7_LCD_SEG21		0x0b17
#define STM32WB_GPIO_PIN_PB8_LCD_SEG16		0x0b18
#define STM32WB_GPIO_PIN_PB9_LCD_COM3		0x0b19
#define STM32WB_GPIO_PIN_PB10_LCD_SEG10		0x0b1a
#define STM32WB_GPIO_PIN_PB11_LCD_SEG11		0x0b1b
#define STM32WB_GPIO_PIN_PB12_LCD_SEG12		0x0b1c
#define STM32WB_GPIO_PIN_PB13_LCD_SEG13		0x0b1d
#define STM32WB_GPIO_PIN_PB14_LCD_SEG14		0x0b1e
#define STM32WB_GPIO_PIN_PB15_LCD_SEG15		0x0b1f
#define STM32WB_GPIO_PIN_PC0_LCD_SEG18		0x0b20
#define STM32WB_GPIO_PIN_PC1_LCD_SEG19		0x0b21
#define STM32WB_GPIO_PIN_PC2_LCD_SEG20		0x0b22
#define STM32WB_GPIO_PIN_PC3_LCD_VLCD		0x0b23
#define STM32WB_GPIO_PIN_PC4_LCD_SEG22		0x0b24
#define STM32WB_GPIO_PIN_PC5_LCD_SEG23		0x0b25
#define STM32WB_GPIO_PIN_PC6_LCD_SEG24		0x0b26
#define STM32WB_GPIO_PIN_PC7_LCD_SEG25		0x0b27
#define STM32WB_GPIO_PIN_PC8_LCD_SEG26		0x0b28
#define STM32WB_GPIO_PIN_PC9_LCD_SEG27		0x0b29
#define STM32WB_GPIO_PIN_PC10_LCD_COM4		0x0b2a
#define STM32WB_GPIO_PIN_PC10_LCD_SEG28		0x0b2a
#define STM32WB_GPIO_PIN_PC10_LCD_SEG40		0x0b2a
#define STM32WB_GPIO_PIN_PC11_LCD_COM5		0x0b2b
#define STM32WB_GPIO_PIN_PC11_LCD_SEG29		0x0b2b
#define STM32WB_GPIO_PIN_PC11_LCD_SEG41		0x0b2b
#define STM32WB_GPIO_PIN_PC12_LCD_COM6		0x0b2c
#define STM32WB_GPIO_PIN_PC12_LCD_SEG30		0x0b2c
#define STM32WB_GPIO_PIN_PC12_LCD_SEG42		0x0b2c
#define STM32WB_GPIO_PIN_PD2_LCD_COM7		0x0b32
#define STM32WB_GPIO_PIN_PD2_LCD_SEG31		0x0b32
#define STM32WB_GPIO_PIN_PD2_LCD_SEG43		0x0b32
#define STM32WB_GPIO_PIN_PD7_LCD_SEG39		0x0b37
#define STM32WB_GPIO_PIN_PD8_LCD_SEG28		0x0b38
#define STM32WB_GPIO_PIN_PD9_LCD_SEG29		0x0b39
#define STM32WB_GPIO_PIN_PD10_LCD_SEG30		0x0b3a
#define STM32WB_GPIO_PIN_PD11_LCD_SEG31		0x0b3b
#define STM32WB_GPIO_PIN_PD12_LCD_SEG32		0x0b3c
#define STM32WB_GPIO_PIN_PD13_LCD_SEG33		0x0b3d
#define STM32WB_GPIO_PIN_PD14_LCD_SEG34		0x0b3e
#define STM32WB_GPIO_PIN_PD15_LCD_SEG35		0x0b3f
#define STM32WB_GPIO_PIN_PE0_LCD_SEG36		0x0b40
#define STM32WB_GPIO_PIN_PE1_LCD_SEG37		0x0b41
#define STM32WB_GPIO_PIN_PE2_LCD_SEG39		0x0b42

#endif /* STM32WB55xx */
   
#if defined(STM32WB55xx)

#define STM32WB_GPIO_PORT_COUNT                 6 /* A, B, C, D, E, H */
#define STM32WB_GPIO_GROUP_COUNT                8 /* A, B, C, D, E, F, G, H */
#define STM32WB_GPIO_PORT_RCC_AHB2ENR           (RCC_AHB2ENR_GPIOAEN | RCC_AHB2ENR_GPIOBEN | RCC_AHB2ENR_GPIOCEN | RCC_AHB2ENR_GPIODEN | RCC_AHB2ENR_GPIOEEN | RCC_AHB2ENR_GPIOHEN)
   
#endif /* STM32WB55xx */
   
#define STM32WB_GPIO_PIN_MASK(_pin)             (1ul << ((_pin) & 15))

extern void __stm32wb_gpio_initialize(void);
extern void __stm32wb_gpio_swd_enable(void);
extern void __stm32wb_gpio_swd_disable(void);
extern void __stm32wb_gpio_stop_enter(void);
extern void __stm32wb_gpio_stop_leave(void);
extern uint32_t __stm32wb_gpio_pin_read(uint32_t pin);
extern void __stm32wb_gpio_pin_write(uint32_t pin, uint32_t data);
extern void stm32wb_gpio_pin_configure(uint32_t pin, uint32_t mode);
extern void stm32wb_gpio_pin_input(uint32_t pin);
extern void stm32wb_gpio_pin_output(uint32_t pin);
extern void stm32wb_gpio_pin_alternate(uint32_t pin);
extern void stm32wb_gpio_pin_analog(uint32_t pin);

static inline uint32_t stm32wb_gpio_pin_read(uint32_t pin)
{
    if (__builtin_constant_p(pin))
    {
        GPIO_TypeDef *GPIO;
        uint32_t group, index;
        
        group = (pin & STM32WB_GPIO_PIN_GROUP_MASK) >> STM32WB_GPIO_PIN_GROUP_SHIFT;
        index = (pin & STM32WB_GPIO_PIN_INDEX_MASK) >> STM32WB_GPIO_PIN_INDEX_SHIFT;
        
        GPIO = (GPIO_TypeDef *)(GPIOA_BASE + (GPIOB_BASE - GPIOA_BASE) * group);
        
        return ((GPIO->IDR >> index) & 1);
    }
    else
    {
        return __stm32wb_gpio_pin_read(pin);
    }
}

static inline void stm32wb_gpio_pin_write(uint32_t pin, uint32_t data)
{
    if (__builtin_constant_p(pin))
    {
        GPIO_TypeDef *GPIO;
        uint32_t group, index;
        
        group = (pin & STM32WB_GPIO_PIN_GROUP_MASK) >> STM32WB_GPIO_PIN_GROUP_SHIFT;
        index = (pin & STM32WB_GPIO_PIN_INDEX_MASK) >> STM32WB_GPIO_PIN_INDEX_SHIFT;
        
        GPIO = (GPIO_TypeDef *)(GPIOA_BASE + (GPIOB_BASE - GPIOA_BASE) * group);

        if (data)
        {
            GPIO->BSRR = (1ul << index);
        }
        else
        {
            GPIO->BRR = (1ul << index);
        }
    }
    else
    {
        __stm32wb_gpio_pin_write(pin, data);
    }
}

#ifdef __cplusplus
}
#endif

#endif /* _STM32WB_GPIO_H */

